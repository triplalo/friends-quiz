<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—Ç–æ –µ—Å—Ç—å –∫—Ç–æ? ü§´</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

        :root {
            --primary: #6C63FF;
            --bg: #1a1a2e;
            --card-bg: rgba(255, 255, 255, 0.1);
            --text: #ffffff;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        .container {
            width: 90%;
            max-width: 600px;
            text-align: center;
            padding: 20px;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ */
        .question-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .question-text {
            font-size: 1.5rem;
            font-weight: 700;
            line-height: 1.4;
        }

        /* –°–µ—Ç–∫–∞ –¥—Ä—É–∑–µ–π */
        .friends-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .friend-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 15px 5px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
            font-family: inherit;
        }

        .friend-btn:hover {
            background: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 99, 255, 0.4);
        }

        .friend-btn:active {
            transform: scale(0.95);
        }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä */
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* –≠–∫—Ä–∞–Ω —Ñ–∏–Ω–∞–ª–∞ */
        .hidden {
            display: none;
        }

        .final-screen h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ */
        @media (max-width: 480px) {
            .friends-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ */
            }
            .question-text {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>

    <div class="container" id="game-screen">
        <div class="progress-container">
            <div class="progress-bar" id="progress"></div>
        </div>

        <div class="question-card">
            <div class="question-text" id="question">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <div class="friends-grid" id="friends-container">
            <!-- –ö–Ω–æ–ø–∫–∏ –¥—Ä—É–∑–µ–π –ø–æ—è–≤—è—Ç—Å—è —Ç—É—Ç —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>

    <div class="container hidden" id="final-screen">
        <div class="question-card">
            <div class="final-screen">
                <h1>–ì–æ—Ç–æ–≤–æ! ‚ú®</h1>
                <p>–¢–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã –∞–Ω–æ–Ω–∏–º–Ω–æ (–∏–ª–∏ –Ω–µ—Ç) –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã.</p>
                <p>–ñ–¥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –æ–±—â–µ–π –±–µ—Å–µ–¥–µ!</p>
            </div>
        </div>
    </div>

    <script>
        // ================= –ù–ê–°–¢–†–û–ô–ö–ò =================

        // 1. –í—Å—Ç–∞–≤—å —Å—é–¥–∞ —Å—Å—ã–ª–∫—É –∏–∑ Google Apps Script (–®–∞–≥ 1)
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxcOhsIlJ-DMNMWw7LY4ZpShGlM6jZc91s_e6pd7HFRqbZcJjz621WBPohJ1UEORo4/exec'; 

        // 2. –°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π (—Ä–æ–≤–Ω–æ 16 —à—Ç—É–∫ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã, –Ω–æ –º–æ–∂–Ω–æ —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ)
        const friends = [
            "–ê–Ω—Ç–æ–Ω", "–ú–∞—à–∞", "–î–∏–º–∞", "–ö–∞—Ç—è", 
            "–°–µ—Ä–≥–µ–π", "–õ–µ–Ω–∞", "–ò–≥–æ—Ä—å", "–û–ª—è",
            "–ú–∞–∫—Å", "–ù–∞—Å—Ç—è", "–í–∏—Ç—è", "–ê–Ω—è",
            "–ü–∞—à–∞", "–Æ–ª—è", "–°–∞—à–∞", "–ñ–µ–Ω—è"
        ];

        // 3. –í–æ–ø—Ä–æ—Å—ã
        const questions = [
            "–ö—Ç–æ –±–æ–ª—å—à–µ –≤—Å–µ—Ö –ª—é–±–∏—Ç –ø–æ—Å–ø–∞—Ç—å?",
            "–£ –∫–æ–≥–æ —Ö—É–¥—à–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏?",
            "–ö—Ç–æ —Ç–∞–π–Ω–æ –≤–ª—é–±–ª—ë–Ω –≤ –∫–æ–≥–æ-—Ç–æ –∏–∑ –∫–æ–º–ø–∞–Ω–∏–∏?",
            "–ö—Ç–æ —Å–∞–º—ã–π —Ç–æ–∫—Å–∏—á–Ω—ã–π, –Ω–æ –º—ã –µ–≥–æ –ª—é–±–∏–º?",
            "–ö—Ç–æ –ø–µ—Ä–≤—ã–º —É–º—Ä–µ—Ç –≤ —Ñ–∏–ª—å–º–µ —É–∂–∞—Å–æ–≤?",
            "–ö—Ç–æ —Å—Ç–∞–Ω–µ—Ç –º–∏–ª–ª–∏–æ–Ω–µ—Ä–æ–º?",
            "–ö—Ç–æ —á–∞—â–µ –≤—Å–µ—Ö –æ–ø–∞–∑–¥—ã–≤–∞–µ—Ç?",
            "–ö–æ–º—É –Ω–µ–ª—å–∑—è –¥–æ–≤–µ—Ä—è—Ç—å —Å–µ–∫—Ä–µ—Ç—ã?",
            "–ö—Ç–æ –≤—ã–π–¥–µ—Ç –∑–∞–º—É–∂/–∂–µ–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º?"
        ];

        // ================= –õ–û–ì–ò–ö–ê =================

        let currentQuestionIndex = 0;
        let answers = {}; // –û–±—ä–µ–∫—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤: {"–í–æ–ø—Ä–æ—Å": "–ò–º—è –¥—Ä—É–≥–∞"}

        const questionEl = document.getElementById('question');
        const friendsContainer = document.getElementById('friends-container');
        const progressEl = document.getElementById('progress');
        const gameScreen = document.getElementById('game-screen');
        const finalScreen = document.getElementById('final-screen');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            renderFriends();
            showQuestion();
        }

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –¥—Ä—É–∑–µ–π
        function renderFriends() {
            friendsContainer.innerHTML = '';
            friends.forEach(friend => {
                const btn = document.createElement('button');
                btn.className = 'friend-btn';
                btn.textContent = friend;
                btn.onclick = () => handleAnswer(friend);
                friendsContainer.appendChild(btn);
            });
        }

        // –ü–æ–∫–∞–∑ –≤–æ–ø—Ä–æ—Å–∞
        function showQuestion() {
            questionEl.style.opacity = 0;
            setTimeout(() => {
                questionEl.textContent = questions[currentQuestionIndex];
                questionEl.style.opacity = 1;
                updateProgress();
            }, 200);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª–æ—Å–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        function updateProgress() {
            const percent = (currentQuestionIndex / questions.length) * 100;
            progressEl.style.width = percent + '%';
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
        function handleAnswer(selectedFriend) {
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–≤–µ—Ç
            const currentQuestion = questions[currentQuestionIndex];
            answers[currentQuestion] = selectedFriend;

            // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                finishGame();
            }
        }

        // –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã
        function finishGame() {
            gameScreen.classList.add('hidden');
            finalScreen.classList.remove('hidden');

            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            sendDataToGoogleSheet(answers);
        }

        // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Google Sheets
        function sendDataToGoogleSheet(data) {
            if (GOOGLE_SCRIPT_URL === '–í–°–¢–ê–í–¨_–°–Æ–î–ê_–°–í–û–Æ_–°–°–´–õ–ö–£') {
                console.error('–í—ã –∑–∞–±—ã–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–∫—Ä–∏–ø—Ç!');
                alert('–û—à–∏–±–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –Ω–µ —É–∫–∞–∑–∞–Ω URL —Å–∫—Ä–∏–ø—Ç–∞.');
                return;
            }

            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors', // –í–∞–∂–Ω–æ –¥–ª—è Google Scripts
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => console.log('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!'))
            .catch(error => console.error('–û—à–∏–±–∫–∞!', error));
        }

        init();
    </script>
</body>
</html>
